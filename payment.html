<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Payment</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
}

.payment-box {
    max-width: 400px;
    margin: 80px auto;
    padding: 30px;
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    position: relative;
    text-align: center;
}

.back-arrow {
    position: absolute;
    top: 15px;
    left: 15px;
    font-size: 20px;
    cursor: pointer;
    text-decoration: none;
    color: #333;
}

.amount {
    margin: 20px 0;
    font-size: 18px;
    font-weight: bold;
}

.payment-box input {
    width: 100%;
    padding: 12px;
    margin: 15px 0;
    font-size: 16px;
}

.payment-box button {
    padding: 12px 20px;
    font-size: 16px;
    cursor: pointer;
}
</style>
</head>

<body>

<div class="payment-box">
    <!-- Back arrow -->
    <a href="home.html" class="back-arrow">‚Üê</a>

    <h2>M-Pesa Payment</h2>

    <div class="amount" id="amountToPay">
        Amount: $0
    </div>

    <p>Enter the phone number to be charged</p>

    <input
        type="tel"
        id="mpesaNumber"
        placeholder="07XXXXXXXX"
    >

    <button onclick="confirmPayment()">Confirm Order</button>
</div>

<script>
// Load cart and calculate total
let cart = JSON.parse(localStorage.getItem('cart')) || [];
let total = 0; 

cart.forEach(item => {
    total += item.price * item.quantity;
});

document.getElementById("amountToPay").innerText =
    `Amount: $${total.toFixed(2)}`;

function confirmPayment() {
    const number = document.getElementById("mpesaNumber").value.trim();

    if (number === "") {
        alert("Please enter your M-Pesa number.");
        return;
    }

    alert(
        "Payment request will be sent to:\n" +
        number +
        "\nAmount: $" + total.toFixed(2) +
        "\n(Backend coming next)"
    );
}
</script>

</body>
</html>
